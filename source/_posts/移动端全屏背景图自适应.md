---
title: 移动端全屏背景图自适应&&翻书效果
date: 2017-08-22 14:15:31
tags: [移动端]
---
![翻书](http://ggbond.qiniudn.com/%E7%BF%BB%E4%B9%A6.gif)
最近项目中要实现类似上图的翻书效果，如果要自己写的比较麻烦，网上有很多css实现的翻书的效果，codepen也有很多酷炫的效果，但是都不支持鼠标交互，最终发现了神器[turnjs4](http://www.turnjs.com/),并参考[h5-turnjs](https://github.com/pengqiuyuan/h5-turnjs)实现了需要的效果。

<!--more-->

## 遇到问题

- 我们最终是展示在app的webview里，视图有64px的header，比纯图片的高度小64px,而设计师在作图的时候并没有考虑到这一点，所以当我们`background-size:100%`来缩放图片的时候，图片的下半部分会被盖住（设计师按照750x1334)的比例来做的图。
- 当发现存在这种情况的时候，并没有认真思考问题的原因，让高度也变成了100%(`background-size:100% 100%`)，所以图片相对于原图就会出现被压扁的情况


## 解决办法

- 设计师修改图片，高度去掉64px,@2x的去掉128px
- 背景图片改为(`background-size:cover`)

## 兼容情况

- 根据[友盟](http://compass.umeng.com/#/equipment?_k=sb5r2l)提供的分辨率指数来看，市场上占有率前10名的Android手机的纵横比都比小于1334/750，所以在这些手机上不会出现留白的情况，但是可能会出现图片底部被盖住的情况，所有需要设计师在设计图片的时候底部尽量多留一部分空白


## 各种分辨率手机屏幕纵横比

![纵横比](http://ggbond.qiniudn.com/2017-08-22%2014:41:37.png)
